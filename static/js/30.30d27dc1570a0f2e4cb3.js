webpackJsonp([30],{AdK2:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"edit-page"},[i("div",{staticClass:"title"},[i("b",[e._v("Edit Item:")]),e._v("Â \n    "+e._s(e.itemTitle)),i("el-button",{attrs:{type:"text"},on:{click:e.cancelnBack}},[e._v(" ...Cancel Edit")])],1),e._v(" "),i("el-form",{ref:"itemForm",staticClass:"edit-form",attrs:{model:e.itemForm,rules:e.rules,"label-width":"120px",size:"mini"}},[i("el-form-item",{attrs:{label:"Type",prop:"cate"}},[i("el-radio-group",{model:{value:e.itemForm.cate,callback:function(t){e.$set(e.itemForm,"cate",t)},expression:"itemForm.cate"}},[i("el-radio-button",{attrs:{label:"Book"}}),e._v(" "),i("el-radio-button",{attrs:{label:"Video"}}),e._v(" "),i("el-radio-button",{attrs:{label:"Course"}}),e._v(" "),i("el-radio-button",{attrs:{label:"Online"}}),e._v(" "),i("el-radio-button",{attrs:{label:"Paper"}}),e._v(" "),i("el-radio-button",{attrs:{label:"Atlas"}}),e._v(" "),i("el-radio-button",{attrs:{label:"Album"}}),e._v(" "),i("el-radio-button",{attrs:{label:"Place"}}),e._v(" "),i("el-radio-button",{attrs:{label:"Other"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"Title",prop:"title"}},[i("el-input",{model:{value:e.itemForm.title,callback:function(t){e.$set(e.itemForm,"title",t)},expression:"itemForm.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"UID",prop:"uid"}},[i("el-input",{model:{value:e.itemForm.uid,callback:function(t){e.$set(e.itemForm,"uid",t)},expression:"itemForm.uid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Resource URL",prop:"resurl"}},[i("el-input",{model:{value:e.itemForm.resUrl,callback:function(t){e.$set(e.itemForm,"resUrl",t)},expression:"itemForm.resUrl"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Byline",prop:"byline"}},[i("el-input",{model:{value:e.itemForm.byline,callback:function(t){e.$set(e.itemForm,"byline",t)},expression:"itemForm.byline"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Cover",prop:"cover"}},[i("el-input",{model:{value:e.itemForm.cover,callback:function(t){e.$set(e.itemForm,"cover",t)},expression:"itemForm.cover"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Language",prop:"language"}},[i("el-input",{model:{value:e.itemForm.language,callback:function(t){e.$set(e.itemForm,"language",t)},expression:"itemForm.language"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Publisher",prop:"publisher"}},[i("el-input",{model:{value:e.itemForm.publisher,callback:function(t){e.$set(e.itemForm,"publisher",t)},expression:"itemForm.publisher"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Publish Date",prop:"publishDate"}},[i("el-input",{model:{value:e.itemForm.publishDate,callback:function(t){e.$set(e.itemForm,"publishDate",t)},expression:"itemForm.publishDate"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Page",prop:"page"}},[i("el-input",{model:{value:e.itemForm.page,callback:function(t){e.$set(e.itemForm,"page",t)},expression:"itemForm.page"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Level",prop:"level"}},[i("el-input",{model:{value:e.itemForm.level,callback:function(t){e.$set(e.itemForm,"level",t)},expression:"itemForm.level"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Binding",prop:"binding"}},[i("el-input",{model:{value:e.itemForm.binding,callback:function(t){e.$set(e.itemForm,"binding",t)},expression:"itemForm.binding"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Price",prop:"price"}},[i("el-input",{model:{value:e.itemForm.price,callback:function(t){e.$set(e.itemForm,"price",t)},expression:"itemForm.price"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"More Details",prop:"details"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:e.itemForm.details,callback:function(t){e.$set(e.itemForm,"details",t)},expression:"itemForm.details"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success",size:"medium"},on:{click:function(t){e.onEditItem("itemForm",e.itemForm)}}},[e._v("Done and Add")])],1)],1)],1)},l=[],a={render:r,staticRenderFns:l};t.a=a},Ih4g:function(e,t,i){"use strict";var r=i("P9l9"),l=i("iF09"),a=i("6aq2");t.a={name:"edit-item",title:"Edit Item",data:function(){return{itemForm:{cate:"Book",title:"",uid:"",resUrl:"",byline:"",cover:"",language:"",publisher:"",publishDate:"",level:"",binding:"",page:"",price:"",details:""},rules:{title:[{required:!0,validator:a.trimValid,message:"Please give a title",trigger:"blur"},{max:500,message:"Max Length should be 500",trigger:"blur"}],uid:[{required:!0,validator:a.trimValid,message:"Need an uid",trigger:"blur"},{max:128,message:"Max Length should be 128",trigger:"blur"}],resUrl:[{max:500,message:"Max Length should be 500",trigger:"blur"}],byline:[{max:500,message:"Max Length should be 500",trigger:"blur"}],cover:[{max:500,message:"Max Length should be 500",trigger:"blur"}],language:[{max:128,message:"Max Length should be 128",trigger:"blur"}],publishDate:[{max:128,message:"Max Length should be 128",trigger:"blur"}],publisher:[{max:255,message:"Max Length should be 255",trigger:"blur"}],page:[{max:64,message:"Max Length should be 64",trigger:"blur"}],level:[{max:128,message:"Max Length should be 128",trigger:"blur"}],binding:[{max:128,message:"Max Length should be 128",trigger:"blur"}],price:[{max:128,message:"Max Length should be 128",trigger:"blur"}]},itemId:null,itemTitle:null}},methods:{onEditItem:function(e,t){var i=this;this.$refs[e].validate(function(e){if(e&&Object(l.a)()){var a={cate:t.cate,title:t.title.trim(),uid:t.uid.trim(),resUrl:t.resUrl.trim(),byline:t.byline.trim(),cover:t.cover.trim(),language:t.language.trim(),publisher:t.publisher.trim(),publishDate:t.publishDate.trim(),level:t.level.trim(),binding:t.binding.trim(),page:t.page.trim(),price:t.price.trim(),details:t.details.trim()};Object(r.q)(i.itemId,a).then(function(e){var t=i.itemId;Object(r._26)(t),i.$router.push("/item/"+t),i.$message({showClose:!0,message:e.data,type:"success"})})}else{if(Object(l.a)())return i.$message({showClose:!0,message:"error!! Please Check"}),!1;i.$message({showClose:!0,message:"Should Log in to Continue"}),i.$router.push({path:"/login",query:{redirect:i.$route.fullPath}})}})},cancelnBack:function(){var e=this.itemId;Object(r._26)(e),this.$router.push("/item/"+e)},resetForm:function(e){this.$refs[e].resetFields()},setFormData:function(e){this.itemForm.cate=e.cate,this.itemForm.title=e.title,this.itemForm.uid=e.uid,this.itemForm.resUrl=e.resurl,this.itemForm.byline=e.byline,this.itemForm.cover=e.cover,this.itemForm.language=e.language,this.itemForm.publisher=e.publisher,this.itemForm.publishDate=e.pubdate,this.itemForm.level=e.level,this.itemForm.binding=e.binding,this.itemForm.price=e.price,this.itemForm.page=e.page,this.itemForm.details=e.details,this.itemId=e.id,this.itemTitle=e.title},loadItemData:function(){var e=this.$store.getters.currentItem,t=this.$route.params.id;if(e&&e.id===Number(t)){var i=e;this.setFormData(i)}else Object(r._26)(t),this.$router.push("/item/"+t)}},created:function(){this.loadItemData()}}},KMCY:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".edit-page[data-v-17d28506]{padding:10px 120px 10px 80px;position:relative}.edit-page .edit-form[data-v-17d28506]{padding:20px;border:1px dotted #689f38}.edit-page .title[data-v-17d28506]{margin-bottom:20px}",""])},Ls1q:function(e,t,i){"use strict";function r(e){i("RGg4")}Object.defineProperty(t,"__esModule",{value:!0});var l=i("Ih4g"),a=i("AdK2"),s=i("VU/8"),o=r,m=s(l.a,a.a,!1,o,"data-v-17d28506",null);t.default=m.exports},RGg4:function(e,t,i){var r=i("KMCY");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i("rjj0")("62932eb5",r,!0,{})}});