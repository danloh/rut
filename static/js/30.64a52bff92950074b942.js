webpackJsonp([30],{"+lgA":function(t,n,a){"use strict";var e=a("P9l9"),d=a("iF09");n.a={name:"demand",props:["demand"],data:function(){return{vote:this.demand.vote,answercount:this.demand.answercount}},computed:{requestor:function(){return this.demand.requestor}},methods:{upDemand:function(){var t=this;if(Object(d.a)()){var n=this.demand.id;Object(e._45)(n).then(function(n){t.vote=n.data})}}}}},Hm7W:function(t,n,a){"use strict";function e(t){a("pNMu")}Object.defineProperty(n,"__esModule",{value:!0});var d=a("Vlq1"),r=a("bWVi"),i=a("XyMi"),s=e,o=Object(i.a)(d.a,r.a,r.b,!1,s,"data-v-e658b2a2",null);n.default=o.exports},JAFF:function(t,n,a){"use strict";function e(t){a("ycew")}var d=a("+lgA"),r=a("RN6M"),i=a("XyMi"),s=e,o=Object(i.a)(d.a,r.a,r.b,!1,s,"data-v-d7898bde",null);n.a=o.exports},RN6M:function(t,n,a){"use strict";a.d(n,"a",function(){return e}),a.d(n,"b",function(){return d});var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return t.requestor?a("div",{staticClass:"demand-main"},[a("div",{staticClass:"demand-body"},[a("router-link",{attrs:{to:"/demand/"+t.demand.id}},[a("b",[t._v(t._s(t.demand.body))])])],1),t._v(" "),a("div",{staticClass:"demand-bar"},[t.demand.tag.tagname?a("router-link",{attrs:{to:"/tag/"+t.demand.tag.id}},[t._v("\n      #"+t._s(t.demand.tag.tagname)+"\n    ")]):t._e(),t._v("\n    | "+t._s(t._f("toMDY")(t.demand.timestamp))+"\n    - by "),a("router-link",{attrs:{to:"/profile/"+t.requestor.id}},[t._v("\n        "+t._s(t.requestor.name)+"\n      ")]),t._v("\n    | "+t._s(t.vote)+"Â "),a("el-button",{attrs:{type:"text"},on:{click:t.upDemand}},[t._v("vote")]),t._v("\n    | "),a("router-link",{attrs:{to:"/create/"+t.demand.id}},[t._v("\n        "+t._s(t._f("pluralise")(t.answercount,"Answer"))+"\n      ")]),t._v("\n    - "),a("router-link",{attrs:{to:"/demand/"+t.demand.id}},[t._v("\n        "+t._s(t._f("pluralise")(t.demand.commentcount,"Comment"))+"\n      ")])],1)]):t._e()},d=[]},Vlq1:function(t,n,a){"use strict";var e=a("Gu7T"),d=a.n(e),r=a("JAFF"),i=a("P9l9");n.a={name:"tag-demand",components:{Demand:r.a},data:function(){return{tagid:null,demands:[],currentPage:1,demandCount:0}},computed:{hasMore:function(){return this.demands.length<this.demandCount}},methods:{loadmoreDemand:function(){var t=this,n={page:this.currentPage};Object(i._8)(this.tagid,n).then(function(n){var a;(a=t.demands).push.apply(a,d()(n.data.demands)),t.currentPage+=1})},loadDemands:function(){var t=this,n=this.$route.params.id;n.startsWith("@")?Object(i._9)(n).then(function(n){t.tagid=n.data,t.fetchDemands(t.tagid)}):(this.tagid=n,this.fetchDemands(this.tagid))},fetchDemands:function(t){var n=this;Object(i._8)(t).then(function(t){var a=t.data;n.demands=a.demands,n.demandCount=a.demandcount})}},created:function(){this.loadDemands()}}},bWVi:function(t,n,a){"use strict";a.d(n,"a",function(){return e}),a.d(n,"b",function(){return d});var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"demand-list"},[t._l(t.demands,function(t){return a("demand",{key:t.id,attrs:{demand:t}})}),t._v(" "),t.hasMore?a("div",[a("el-button",{staticClass:"blockbtn",attrs:{size:"mini",disabled:!t.hasMore},on:{click:t.loadmoreDemand}},[t._v("\n               Show More\n    ")])],1):t._e()],2)},d=[]},pNMu:function(t,n,a){var e=a("wAdE");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var d=a("rjj0").default;d("16d34516",e,!0,{})},qiQO:function(t,n,a){n=t.exports=a("FZ+f")(!1),n.push([t.i,".demand-main[data-v-d7898bde]{padding:10px;background-color:#f8f9fa;border-bottom:1px dashed #ddd}.demand-main .demand-body a[data-v-d7898bde]:hover{color:#409eff}.demand-main .demand-bar[data-v-d7898bde]{font-size:12px}",""])},wAdE:function(t,n,a){n=t.exports=a("FZ+f")(!1),n.push([t.i,".demand-list[data-v-e658b2a2]{padding:auto}",""])},ycew:function(t,n,a){var e=a("qiQO");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var d=a("rjj0").default;d("cf4dd534",e,!0,{})}});