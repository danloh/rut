webpackJsonp([33],{"2qbv":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-page"},[r("div",{staticClass:"article-main"},[r("div",{staticClass:"submenu"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.showForm,expression:"showForm"}]},[r("article-form",{attrs:{show:t.showForm},on:{"update:show":function(e){t.showForm=e}}})],1),t._v(" "),r("b",[t._v("News For Readers  ")]),t._v(" "),r("router-link",{attrs:{to:"/articles/top"}},[t._v("Top")]),t._v(" "),r("router-link",{attrs:{to:"/articles/new"}},[t._v("New")]),t._v(" "),t.canSub?r("el-button",{staticStyle:{float:"right"},attrs:{type:"text"},on:{click:function(e){t.showForm=!t.showForm}}},[t._v("\n                 "+t._s(t.showForm?"Cancel":"Submit")+"\n      ")]):t._e()],1),t._v(" "),r("div",{staticClass:"article-view"},[r("router-view")],1)]),t._v(" "),t._m(0)])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-side"},[r("p",{staticClass:"right-item"},[t._v("\n      On-Topic: Anything About Reading/Learning\n    ")])])}]},DH7R:function(t,e,r){"use strict";var i=r("iF09"),a=r("P5mM");e.a={name:"articles",title:"News For Readers",components:{ArticleForm:a.a},data:function(){return{canSub:Object(i.a)(),showForm:!1}}}},JBIY:function(t,e,r){"use strict";function i(t){r("SQ8x")}Object.defineProperty(e,"__esModule",{value:!0});var a=r("DH7R"),o=r("2qbv"),l=r("XyMi"),n=i,s=Object(l.a)(a.a,o.a,o.b,!1,n,"data-v-70cd965f",null);e.default=s.exports},P5mM:function(t,e,r){"use strict";var i=r("vU7C"),a=r("UJnk"),o=r("XyMi"),l=Object(o.a)(i.a,a.a,a.b,!1,null,null,null);e.a=l.exports},SQ8x:function(t,e,r){var i=r("l8/Q");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=r("rjj0").default;a("bff9acd4",i,!0,{})},UJnk:function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{ref:"articleForm",attrs:{model:t.articleForm,rules:t.rules}},[r("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"title"}},[r("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"Title"},model:{value:t.articleForm.title,callback:function(e){t.$set(t.articleForm,"title",e)},expression:"articleForm.title"}})],1),t._v(" "),r("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{prop:"url"}},[r("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"either URL"},model:{value:t.articleForm.url,callback:function(e){t.$set(t.articleForm,"url",e)},expression:"articleForm.url"}})],1),t._v(" "),r("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{prop:"content"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:5},placeholder:"or Text Content"},model:{value:t.articleForm.content,callback:function(e){t.$set(t.articleForm,"content",e)},expression:"articleForm.content"}})],1),t._v(" "),r("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"author"}},[r("el-input",{attrs:{placeholder:"Author"},model:{value:t.articleForm.author,callback:function(e){t.$set(t.articleForm,"author",e)},expression:"articleForm.author"}})],1),t._v(" "),t.itemid&&t.articleForm.content.trim()?r("el-form-item",{attrs:{prop:"spoiler"}},[r("el-radio-group",{attrs:{size:"mini"},model:{value:t.articleForm.spoiler,callback:function(e){t.$set(t.articleForm,"spoiler",e)},expression:"articleForm.spoiler"}},[r("el-radio-button",{attrs:{label:"No Spoiler"}}),t._v(" "),r("el-radio-button",{attrs:{label:"Spoiler Ahead"}})],1)],1):t._e(),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.articleForm.title.trim()},on:{click:function(e){t.submitArticle("articleForm",t.articleForm)}}},[t._v("\n              Submit\n    ")])],1)],1)},a=[]},"l8/Q":function(t,e,r){e=t.exports=r("FZ+f")(!1),e.push([t.i,".article-page[data-v-70cd965f]{padding:10px 200px 10px 0;position:relative}.article-page .article-main[data-v-70cd965f]{padding:auto}.article-page .article-side[data-v-70cd965f]{position:absolute;top:10px;right:0;width:180px;background-color:#f2f5f2;padding:5px}.article-page .article-side .right-title[data-v-70cd965f]{padding:2px 5px}.article-page .article-side .right-item[data-v-70cd965f]{padding:2px 5px;font-size:.8em}",""])},vU7C:function(t,e,r){"use strict";var i=r("iF09");e.a={name:"article-form",props:{itemid:Number},data:function(){return{articleForm:{title:"",url:"",author:"",content:"",spoiler:"No Spoiler"},rules:{title:[{min:1,max:255,message:"Required, Max 255 Characters",trigger:"change"}]}}},methods:{submitArticle:function(t,e){var r=this;this.$refs[t].validate(function(a){if(a&&Object(i.a)()){var o=e.url.trim(),l=e.content.trim();if(!o&&!l)return void r.$message("Either of URL and Text Content is requied");var n={itemid:r.itemid,title:e.title.trim(),url:o,author:e.author.trim(),content:l,spoiler:e.spoiler};r.$store.dispatch("postArticle",n).then(function(e){if(r.itemid){var i=e.data.id;r.$router.push("/article/"+i)}r.$refs[t].resetFields(),r.$emit("update:show",!1)})}else Object(i.a)()||(r.$message({showClose:!0,message:"Should Log in to Continue"}),r.$router.push({path:"/login",query:{redirect:r.$route.fullPath}}))})}}}}});